# 常见问题与注意事项

## 概述

本文档列出了编写文档时常见的错误和注意事项，帮助避免重复犯错。

---

## 格式规范常见错误

### Markdown 格式

- ❌ 标题前后无空行
- ❌ 代码块前后无空行
- ❌ 使用 CODE REFERENCES 格式（应使用标准代码块）
- ❌ 行宽过长（>100 字符）
- ❌ 列表格式不正确
- ❌ 嵌套列表缩进不一致
- ❌ 代码块语言标识错误（应使用 `bash` 而非 `shell`，`js` 而非 `javascript`）

### 表格对齐

- ❌ 未使用对齐标记（`|:---|`）
- ❌ 列宽未对齐（源文件中 `|` 未垂直对齐）
- ❌ 未考虑中文字符宽度（9 中文 ≈ 15 英文）
- ❌ 多行单元格未对齐

**改进方法**：

- 在输出每个表格前，手动计算每一行的字符宽度
- 严格执行 `9 中文 ≈ 15 西文` 的宽度比例
- 写入文件后，必须使用 `read_file` 检查源文件的垂直对齐情况
- 参考：[格式规范](03-format-standards.md)

---

## 内容完整性常见缺失

- ❌ 缺少参数说明（见 [内容规范](04-content-standards.md)）
- ❌ 缺少返回值说明（见 [内容规范](04-content-standards.md)）
- ❌ 缺少输出结果说明
- ❌ 缺少注意事项
- ❌ 缺少练习任务
- ❌ 不符合内容完整性要求（见 [内容规范](04-content-standards.md)）
- ❌ 内容深度不足（<300 行）

**改进方法**：

- 根据章节类型，参考 [内容规范](04-content-standards.md) 中的 12 要素参考标准编写
- 每个方法/函数必须包含：语法、参数、返回值（三个部分缺一不可）
- 参考：[内容规范](04-content-standards.md)

---

## PHP 代码规范常见错误

- ❌ 未遵循 PSR-1 和 PSR-12 编码规范
- ❌ 纯 PHP 文件使用了结束标签 `?>`（PSR-1 禁止）
- ❌ 未使用类型声明（参数类型、返回类型）
- ❌ 未使用 `declare(strict_types=1);`
- ❌ 示例代码不可运行（伪代码）
- ❌ 未使用 PHP 8.2+ 语法特性
- ❌ 使用 Tab 而非 4 个空格缩进
- ❌ 文件未以空行结尾

**改进方法**：

- 所有函数必须包含类型声明
- 代码必须符合 PSR-12 编码规范
- 所有代码示例必须可运行
- 参考：[格式规范](03-format-standards.md)

---

## 内容风格常见错误

- ❌ 使用情感化修饰语（如：伟大的、惊人的、极其、极致）
- ❌ 使用非技术性比喻（如：灵魂、心脏、英雄、基石、天花板）
- ❌ 使用营销类词汇（如：赋能、闭环、抓手、工业级实战、秘密武器）
- ❌ 缺乏逻辑推导和原理分析
- ❌ 内容过于简单，不适合零基础学员

**改进方法**：

- 建立内部"禁词表"，过滤情感化修饰语
- 每一句陈述必须基于逻辑或物理事实
- 面向零基础学员，内容详实（参考 300-500 行）
- 内容和结构需要是教材级的，要足够详细、完善，同时不罗嗦
- 参考：[内容规范](04-content-standards.md) 中的核心编写原则

---

## 执行流程常见错误

- ❌ 未阅读规则文档就开始执行
- ❌ 未验证文件写入是否成功
- ❌ 使用批量操作而非逐个处理
- ❌ 未对照自检清单进行验证
- ❌ 预先承诺已完成，但实际未完成

**改进方法**：

- 执行前必须阅读相关规则文档
- 执行后必须验证文件写入是否成功（写入 -> 读取验证）
- 不再预先承诺已完成，必须在所有文件写入并读取验证通过后，再向用户汇报
- 在汇报前，对照 [自检清单](07-checklist.md) 进行逐项自查
- 参考：[执行工作流](02-execution-workflow.md)

---

## 目录与章节逻辑常见错误

- ❌ 使用了非标准编号
- ❌ 物理目录名称与章节编号映射错误
- ❌ 文件命名不符合规范（应使用小写、连字符）
- ❌ 使用了 `README.md` 而非 `readme.md`

**改进方法**：

- 章节编号强制参考项目规范
- 新对话开始前必须先 `list_dir` 确认已有结构
- 文件命名统一使用小写字母、数字、连字符（-）
- 参考：[文档组织规范](05-document-organization.md)

---

## 验证检查清单

在完成文档编写后，必须确认：

- [ ] 所有标题前后都有空行
- [ ] 所有代码块前后都有空行
- [ ] 所有表格在源文件中按 `|` 对齐列宽
- [ ] 所有方法/函数都包含语法、参数、返回值
- [ ] 所有代码示例都完整、可运行
- [ ] 所有代码都符合 PSR-1 和 PSR-12 规范
- [ ] 文件已成功写入并验证
- [ ] 对照 [自检清单](07-checklist.md) 逐项确认

---

**最后更新**：2025-12-31  
**参考文档**：[自检清单](07-checklist.md)、[执行工作流](02-execution-workflow.md)
