# 内容规范

## 概述

本文档定义了所有章节文档的内容规范，包括内容完整性要求、结构标准、函数文档格式等。

**核心要求**：内容和结构需要是教材级的，要足够详细、完善，同时不罗嗦。能够满足从零开始学习的要求，各阶段循序渐进，前后能够衔接，并注意内容的正确引用。如果有必要，应该在合适的位置提供表格、图表、公式和代码等内容。

---

## 核心编写原则

### 客观性

- 文档必须保持客观、严谨、简洁
- 严禁使用任何情感化修饰语（如：伟大的、惊人的、极其、极致）

### 去隐喻化

- 禁止使用非技术性的比喻（如：灵魂、心脏、英雄、基石、天花板）

### 去黑话化

- 禁止使用营销类或非技术背景的词汇（如：赋能、闭环、抓手、工业级实战、秘密武器）

### 零起点逻辑

- 文档应适合从零开始学习
- 所有技术概念必须提供详尽的逻辑推导和原理分析
- 确保读者能建立完整的知识框架

---

## 受众定位

- **所有文档面向零基础学员撰写**
- 语言需循序渐进但内容必须详实完整
- 避免过度简化，确保零基础学员能够完全理解
- 每个概念都要有充分的解释和多个示例
- 内容和结构需要是教材级的，要足够详细、完善，同时不罗嗦

---

## 内容详细度

**目标**：充分详实、零基础可学、教材级质量

**行数参考**：

- 基础概念：200-300 行
- 重要概念：300-500 行
- 复杂概念：500-800 行

**内容组织要求**：

- 足够详细、完善，同时不罗嗦
- 各阶段循序渐进，前后内容能够衔接
- 注意内容的正确引用，避免重复
- 如果有必要，应该在合适的位置提供表格、图表、公式和代码等内容

---

## 内容完整性要求（12 要素参考）

以下 12 个要素是内容完整性的**参考标准**，**并非所有章节都必须包含全部 12 个要素**。根据章节类型的不同，有些要素是必需的，有些是可选的，有些甚至是不需要的。应根据章节类型灵活选择适用的要素：

| 序号 | 要素名称         | 说明                                         |
|:-----|:----------------|:---------------------------------------------|
| 1    | **概述**         | 准确定义技术点，说明其在系统中的定位。         |
| 2    | **特性**         | 列表说明核心技术优势与功能特点。               |
| 3    | **语法 / 架构**  | 提供物理层面的架构图或核心语法声明。             |
| 4    | **参数详述**     | 穷尽式解析 API 参数、配置项及环境变量（表格化）。|
| 5    | **返回值 / 状态** | 明确标注函数返回值类型及系统反馈的状态码信息。   |
| 6    | **代码示例**     | 包含完整、可运行的代码片段（带文件路径标注）。   |
| 7    | **输出结果说明** | 记录代码运行后的真实控制台输出及其逻辑解析。     |
| 8    | **注意事项**     | 描述边缘情况、异常处理逻辑及跨平台差异。         |
| 9    | **常见问题 (FAQ)**| 针对学习中的疑惑提供针对性的逻辑解答。           |
| 10   | **最佳实践**     | 提供工业级的避坑指南和架构建议。                 |
| 11   | **对比分析**     | 与相似技术或其他实现方式的性能对比。             |
| 12   | **练习任务**     | 设计 3-5 个具有逻辑深度的调研或实践任务。        |

**注意**：不是所有章节都需要全部 12 个要素，根据章节类型确定必需要素（见 [章节类型分类](#章节类型分类)）。

---

## 章节类型分类

根据内容性质和教学目标，章节分为以下几类：

### 1. 概念性章节

**特点**：介绍概念、历史、背景、概述等理论性内容

**必需要素**：概述、核心概念/内容、总结

**可选要素**：特性、常见问题、相关资源

### 2. 配置性章节

**特点**：介绍安装、配置、工具设置等操作步骤

**必需要素**：概述、特性、配置步骤/语法、注意事项、常见问题

**可选要素**：输出结果说明、对比分析、最佳实践

### 3. 语法性章节

**特点**：介绍语言特性、语法、类型系统等核心内容

**必需要素**：概述、特性、语法/定义、基本用法、代码示例、使用场景、注意事项、最佳实践

**可选要素**：参数详情、返回值/状态、输出结果说明、对比分析、常见问题、练习任务（推荐）

### 4. 工具性章节

**特点**：介绍工具使用、命令操作、执行流程

**必需要素**：概述、特性、基本用法/命令、配置选项（如果适用）、使用场景、注意事项、常见问题、最佳实践

**可选要素**：输出结果说明、对比分析、参数详情

### 5. 实践性章节

**特点**：动手实践、完整示例、项目实践

**必需要素**：概述、实践步骤、完整代码示例、输出结果说明、注意事项、练习任务

**可选要素**：特性、常见问题、最佳实践

### 6. 参考性章节

**特点**：API 参考、工具类型、快速查阅

**必需要素**：概述、定义/语法、示例、使用场景

**可选要素**：特性、参数详情、返回值/状态、对比分析、注意事项

---

## 函数/方法文档格式标准

**介绍任何内置方法、函数、模块时，必须包含以下三个部分（缺一不可）**：

### 1. 语法（必需）

**格式**：

```markdown
**语法**：`functionName(type $param1, type $param2 = default): returnType`
```

**要求**：

- 使用反引号包裹完整函数签名
- 包含所有参数及其类型
- 包含返回值类型
- 参数默认值必须明确标注

### 2. 参数（必需）

**格式**：

```markdown
**参数**：
- `$param1`：参数说明
- `$param2`：可选，参数说明（如果是可选参数，必须标注"可选"）
```

**要求**：

- 每个参数必须单独列出
- 参数名使用反引号包裹
- 必须说明参数的作用和含义
- 可选参数必须标注"可选"或"默认值"

### 3. 返回值（必需）

**格式**：

```markdown
**返回值**：返回值的详细说明。
```

**要求**：

- 必须说明返回值的类型
- 必须说明返回值的含义
- 特殊情况必须说明（如返回 `false` 表示失败）
- 如果可能返回多种类型，必须说明所有情况

### 完整示例

```markdown
### strlen() - 字节长度

**语法**：`strlen(string $string): int`

**参数**：
- `$string`：要计算长度的字符串

**返回值**：返回字符串的字节数（不是字符数）。

```php
<?php
declare(strict_types=1);

echo strlen("Hello") . "\n";        // 5
echo strlen("你好") . "\n";        // 6（UTF-8 编码，每个中文字符 3 字节）
```
```

---

## 新概念引入规范

### 详细解释

- 引入新概念时，必须进行详细解释，说明其作用、特点、使用场景
- 确保每个概念都有充分的解释，不能简单带过
- 内容和结构需要是教材级的，要足够详细、完善

### 指向已有内容

- 如果概念在之前章节已介绍，应指向已有内容，避免重复
- 引用格式：`（详细说明见 [章节标题](路径)）`
- 注意内容的正确引用，建立知识体系链接

### 循序渐进

- 确保每个概念都有前置知识支撑，不跳跃
- 各阶段循序渐进，前后内容能够衔接
- 通过引用帮助学员建立完整的知识体系

---

## 代码示例规范

### 代码完整性

- 代码示例必须完整、可运行
- 必须包含 `<?php`、`declare(strict_types=1);` 等必要声明
- 所有代码必须符合 PSR-1 和 PSR-12 规范

### 示例组织

- 示例应从简单开始，逐步增加复杂度
- 重要概念应提供多个示例
- 示例应贴近实际使用场景

### 输出说明

- 每个可执行的代码示例都应明确说明输出内容
- 解释输出的含义和原因
- 如果 CLI 和 Web 环境输出不同，应分别说明

### 内容呈现方式

- 如果有必要，应该在合适的位置提供表格、图表、公式和代码等内容
- 使用表格展示结构化数据（参数列表、对比分析等）
- 使用图表展示复杂关系或流程
- 使用公式展示数学计算或算法逻辑
- 代码示例应完整、可运行，并包含必要的注释

---

## 练习任务

**每个章节必须包含 3-5 个练习任务**：

- 练习应覆盖章节核心知识点
- 从简单到复杂，循序渐进
- 提供明确的练习目标

---

## 内容简化规则

对于有详细后续章节的基础介绍章节，应进行简化：

### 适用范围

以下类型的章节应进行简化：

1. **有详细后续章节的基础介绍章节**
   - 阶段二中的基础介绍章节，如果阶段十二或其他阶段有详细章节
   - 例如：PSR 标准、静态代码分析等

2. **参考性章节**
   - 作为参考手册的章节
   - 详细内容在其他阶段或章节中

### 简化原则

**必须保留**：

- 概述和基本概念
- 核心标准/工具的基本要求列表
- 1-2 个简单的代码示例
- 指向详细章节的明确引用

**可以移除**：

- 详细的语法/定义说明
- 多个详细代码示例
- 详细的使用场景
- 详细的注意事项
- 详细的常见问题
- 详细的最佳实践

### 明确引用后续章节

**要求**：

- 在概述中明确说明"本节仅提供简要介绍"
- 明确指出详细内容的章节位置
- 在相关章节部分列出所有详细章节的链接

**格式示例**：

```markdown
## 概述

PSR（PHP Standards Recommendations）是 PHP 社区制定的编码标准。本节简要介绍 PSR 标准的基本概念、核心标准（PSR-1、PSR-4、PSR-12）的基本要求。

**注意**：本节仅提供 PSR 标准的简要介绍。详细的 PSR 标准规范、实施方法和最佳实践，请参考 [阶段十二：附言 - 12.1 PSR 标准规范](../../stage-12-appendix/chapter-01-psr-standards/readme.md)。
```

### 内容长度控制

**目标行数**：

- 简化后的章节：100-200 行
- 详细章节：300-500 行或更多

**对比**：

- 简化前：500-800 行
- 简化后：100-200 行

### 结构要求

**简化章节应包含**：

1. 概述（含指向详细章节的说明）
2. 核心标准/工具的基本要求列表
3. 1-2 个基本示例
4. 简化的注意事项（如适用）
5. 相关章节（列出详细章节链接）
6. 简化的练习任务

**不应包含**：

- 详细的使用场景
- 详细的常见问题（4-5 个问题及解决方案）
- 详细的最佳实践
- 多个详细示例
- 详细的配置选项说明

### 判断标准

**需要简化的章节特征**：

1. 有明确的后续详细章节（如阶段十二的详细章节）
2. 当前章节是基础介绍性质
3. 详细内容在其他章节中已有完整说明
4. 章节内容超过 400 行且包含大量详细说明

**不需要简化的章节**：

1. 没有后续详细章节的独立章节
2. 本身就是详细章节
3. 是核心学习内容，需要详细说明

### 注意事项

1. **不要过度简化**：必须保留核心概念和基本要求，确保读者能够理解基本概念
2. **引用必须准确**：所有指向详细章节的链接必须正确，明确说明详细内容的位置
3. **保持一致性**：简化后的章节结构应保持一致，引用格式应统一

---

## 检查清单

在编写或审查章节时，请确认：

- [ ] 符合核心编写原则（客观性、去隐喻化、去黑话化、零起点逻辑）
- [ ] 内容详实完整（参考行数要求）
- [ ] 内容和结构是教材级的，足够详细、完善，同时不罗嗦
- [ ] 符合内容完整性要求（根据章节类型参考 12 要素标准）
- [ ] 所有函数/方法都包含语法、参数、返回值
- [ ] 所有代码示例都完整、可运行
- [ ] 所有代码示例都符合 PSR 规范
- [ ] 包含练习任务（3-5 个）
- [ ] 新概念有详细解释或指向已有内容
- [ ] 前后内容衔接自然，没有跳跃
- [ ] 各阶段循序渐进，前后内容能够衔接
- [ ] 注意内容的正确引用，避免重复
- [ ] 在合适的位置提供了表格、图表、公式和代码等内容（如需要）

---

**最后更新**：2025-12-31
