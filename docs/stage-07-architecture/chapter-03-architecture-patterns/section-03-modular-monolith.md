# 7.3.3 模块化单体架构

## 概述

模块化单体架构是介于单体和微服务之间的架构模式。本节介绍模块化单体的概念、模块划分、模块通信等，帮助零基础学员理解模块化架构。

**章节类型**：概念性章节

**主要内容**：
- 模块化单体概念
- 模块划分原则
- 模块通信方式
- 模块边界
- 模块化实现
- 完整示例

## 核心内容

### 模块化单体概念

- 什么是模块化单体
- 与单体的区别
- 与微服务的区别
- 适用场景

### 模块划分

- 划分原则
- 模块职责
- 模块边界
- 模块大小

### 模块通信

- 直接调用
- 事件通信
- 共享数据库
- 通信方式选择

### 模块边界

- 边界定义
- 边界保护
- 依赖管理
- 接口设计

## 基本用法

### 模块化单体示例

```php
<?php
declare(strict_types=1);

// 模块划分
namespace App\Modules\User;

class UserService {
    // 用户模块服务
}

namespace App\Modules\Order;

class OrderService {
    public function __construct(
        private \App\Modules\User\UserService $userService
    ) {}
}
```

## 使用场景

- 大型单体应用
- 渐进式拆分
- 团队协作
- 模块化需求

## 注意事项

- 模块划分
- 模块通信
- 依赖管理
- 演进路径

## 常见问题

- 什么是模块化单体？
- 如何划分模块？
- 模块如何通信？
- 何时使用模块化单体？

## 最佳实践

- 清晰的模块划分
- 明确的模块边界
- 控制模块依赖
- 规划演进路径
