# 2.8.1 数组基础

## 概述

数组是 PHP 中最重要的数据结构之一，是有序映射。本节介绍数组的特性、创建方式、访问元素、修改删除、嵌套数组、类型检测、键的类型等基础知识。

**章节类型**：语法性章节

**主要内容**：
- 数组的特性（有序映射）
- 数组的创建方式（`[]`、`array()`）
- 访问数组元素
- 修改和删除数组元素
- 嵌套数组的使用
- 数组类型检测
- 键的类型（整数、字符串）
- 数组与 JavaScript 的对比

## 特性

- **有序映射**：数组是有序的键值对集合
- **混合键**：可以同时包含数字键和字符串键
- **动态大小**：数组大小可以动态变化
- **类型灵活**：数组元素可以是任意类型

## 语法/定义

### 数组创建

**短数组语法**：`[]`（PHP 5.4+）
**长数组语法**：`array()`
**索引数组**：数字键
**关联数组**：字符串键

### 访问元素

**语法**：`$array[key]`
**键类型**：整数或字符串

## 基本用法

### 索引数组示例

```php
<?php
declare(strict_types=1);

$arr = [1, 2, 3];
echo $arr[0];  // 1
```

### 关联数组示例

```php
<?php
declare(strict_types=1);

$user = ['name' => 'John', 'age' => 25];
echo $user['name'];  // John
```

### 混合数组示例

```php
<?php
declare(strict_types=1);

$arr = [0 => 'first', 'key' => 'value', 1 => 'second'];
```

### 嵌套数组示例

```php
<?php
declare(strict_types=1);

$users = [
    ['name' => 'John', 'age' => 25],
    ['name' => 'Jane', 'age' => 30]
];
```

## 使用场景

- **数据集合**：存储多个相关数据
- **配置信息**：存储配置项
- **映射关系**：建立键值映射

## 注意事项

- **键的类型**：键可以是整数或字符串
- **键的转换**：字符串数字键会转换为整数
- **未定义键**：访问未定义键会触发 Notice

## 常见问题

### 问题 1：键类型混淆
- **原因**：不理解数组键的类型规则
- **解决**：理解数组是有序映射的本质

### 问题 2：未定义键错误
- **原因**：访问不存在的键
- **解决**：使用 `isset()` 或 `array_key_exists()` 检查

## 最佳实践

- 理解数组是有序映射
- 使用有意义的键名
- 检查键是否存在
- 使用类型声明提高代码质量
