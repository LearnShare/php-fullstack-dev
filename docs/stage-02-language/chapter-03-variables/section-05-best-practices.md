# 2.3.5 最佳实践与综合练习

## 概述

变量和常量的使用需要遵循最佳实践，以提高代码质量和可维护性。本节总结变量和常量的最佳实践，并提供综合练习，帮助巩固所学知识。

**章节类型**：最佳实践章节

**主要内容**：
- 变量命名规范
- 变量作用域最佳实践
- 常量使用最佳实践
- 引用和可变变量的使用建议
- 综合练习任务
- 代码审查清单

## 实践建议/原则

### 变量命名规范

**命名原则**：
- 使用有意义的变量名
- 遵循命名约定（camelCase）
- 避免缩写和单字母变量名
- 布尔变量使用 `is_`、`has_` 前缀

### 变量作用域

**最佳实践**：
- 避免使用全局变量
- 使用参数传递数据
- 使用依赖注入
- 理解变量作用域

### 常量使用

**最佳实践**：
- 使用常量存储配置值
- 遵循命名规范（UPPER_SNAKE_CASE）
- 使用类常量组织相关常量
- 避免硬编码

## 代码示例

### 良好的变量命名

```php
<?php
declare(strict_types=1);

// 好的命名
$userName = "John";
$isActive = true;
$maxRetries = 3;

// 不好的命名
$n = "John";
$x = true;
$tmp = 3;
```

### 避免全局变量

```php
<?php
declare(strict_types=1);

// 不好的做法
$config = [];

function loadConfig(): void
{
    global $config;
    $config = ['key' => 'value'];
}

// 好的做法
function loadConfig(): array
{
    return ['key' => 'value'];
}

$config = loadConfig();
```

## 最佳实践

- **变量命名**：使用有意义的名称，遵循命名规范
- **作用域管理**：避免全局变量，使用参数传递
- **常量使用**：使用常量存储配置，避免硬编码
- **引用使用**：谨慎使用引用，明确标注
- **代码审查**：建立代码审查清单

## 练习任务

1. 重构代码，改进变量命名
2. 将硬编码值改为常量
3. 消除全局变量的使用
4. 实现一个使用静态变量的计数器
5. 编写代码审查清单
