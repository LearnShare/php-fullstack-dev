# 2.4 数据类型

## 目标

- 熟悉 PHP 标量、复合、特殊类型的行为及常见陷阱。
- 能根据需求选择合适的数据结构并掌握类型检测方法。
- 理解多字节字符串处理与 JSON/数组互转。
- 掌握类型声明、联合类型等现代 PHP 特性。

## 章节内容

本章分为六个独立小节，每节提供详细的概念解释、语法说明、参数列表和完整示例：

1. **[2.4.1 标量类型](section-01-scalar-types.md)**：布尔类型（`bool`）、整数类型（`int`）、浮点数类型（`float`）、字符串类型（`string`）的语法、类型检测、常用函数及完整示例。

2. **[2.4.2 复合类型](section-02-composite-types.md)**：数组类型（`array`）的创建、操作、高阶函数、排序；对象类型（`object`）的创建、类型检测、克隆；可调用类型（`callable`）的各种形式及使用场景。

3. **[2.4.3 特殊类型](section-03-special-types.md)**：`null` 类型的语法、检测、空合并运算符；`resource` 类型的创建、管理、PHP 8.0+ 对象化变化。

4. **[2.4.4 类型检测](section-04-type-detection.md)**：`gettype()`、`is_*()` 系列函数、`instanceof` 运算符、`var_dump()` 和 `print_r()` 的使用及最佳实践。

5. **[2.4.5 类型声明与联合类型](section-05-type-declarations.md)**：函数参数和返回值类型声明、可选参数、可空类型、联合类型（PHP 8.0+）、属性类型声明（PHP 7.4+）、只读属性（PHP 8.1+）、严格模式。

6. **[2.4.6 JSON 与数组互转](section-06-json.md)**：`json_encode()` 和 `json_decode()` 的语法、常用选项标志、错误处理、实际应用场景及完整示例。

## 类型总览

| 分类     | 类型                              | 说明                           |
| :------- | :-------------------------------- | :----------------------------- |
| 标量     | `bool`、`int`、`float`、`string`  | 基本值类型                     |
| 复合     | `array`、`object`、`callable`     | 可包含多个元素或方法           |
| 特殊     | `null`、`resource`                | 空值或外部资源句柄             |
| 伪类型   | `mixed`、`iterable`、`number` 等  | 文档或类型提示中使用           |

## 学习建议

1. **按顺序学习**：按顺序学习六个小节，每完成一节即编写 2-3 个小练习，加深理解。

2. **重点掌握**：
   - 标量类型的基本操作和类型检测方法
   - 数组的高阶函数和常用操作
   - 类型声明和联合类型的使用
   - JSON 编码和解码的正确使用

3. **实践练习**：
   - 完成每小节后的练习题目
   - 实现实际项目中的类型处理场景
   - 尝试使用类型声明改进现有代码

## 完成本章后

- 能够正确使用各种标量类型，理解其特性和限制。
- 掌握数组的创建、操作、高阶函数和排序方法。
- 理解对象和可调用类型的使用场景。
- 熟悉 `null` 和 `resource` 类型的处理方式。
- 掌握类型检测函数的使用和最佳实践。
- 能够使用类型声明和联合类型编写类型安全的代码。
- 熟练使用 JSON 进行数据编码和解码。
- 理解严格模式的作用，能够在项目中正确使用。

## 相关章节

- **2.3 变量与常量**：了解变量的基本概念和操作。
- **2.5 类型转换与比较**：深入学习类型转换规则。
- **2.6 表达式与运算符**：了解类型相关的运算符。
- **2.7 字符串操作**：深入学习字符串处理。
- **2.8 数组完整指南**：深入学习数组操作。
