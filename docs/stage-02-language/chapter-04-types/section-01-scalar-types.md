# 2.4.1 标量类型

## 概述

标量类型是 PHP 的基本数据类型，包括布尔类型、整数类型、浮点数类型、字符串类型。本节详细介绍这四种标量类型的语法、特性、常用函数和使用场景。

**章节类型**：语法性章节

**主要内容**：
- 布尔类型（`bool`）的语法和用法
- 整数类型（`int`）的语法和用法
- 浮点数类型（`float`）的语法和用法
- 字符串类型（`string`）的语法和用法
- 各类型的类型检测方法
- 各类型的常用函数
- 类型转换规则

## 特性

- **布尔类型**：`true` 和 `false`，不区分大小写
- **整数类型**：支持十进制、八进制、十六进制、二进制
- **浮点数类型**：支持科学计数法，精度有限
- **字符串类型**：支持单引号、双引号、Heredoc、Nowdoc

## 语法/定义

### 布尔类型

**值**：`true`、`false`
**类型检测**：`is_bool($value)`
**转换规则**：空值、0、空字符串为 `false`，其他为 `true`

### 整数类型

**表示方式**：
- 十进制：`42`
- 八进制：`052`（以 0 开头）
- 十六进制：`0x2A`（以 0x 开头）
- 二进制：`0b101010`（以 0b 开头）

**类型检测**：`is_int($value)`
**范围**：平台相关，通常 -2^31 到 2^31-1（32位）或 -2^63 到 2^63-1（64位）

### 浮点数类型

**表示方式**：
- 普通形式：`3.14`
- 科学计数法：`1.23e4`（12300）

**类型检测**：`is_float($value)`
**精度**：有限精度，不能精确表示所有小数

### 字符串类型

**创建方式**：
- 单引号：`'Hello'`
- 双引号：`"Hello"`
- Heredoc：`<<<TEXT ... TEXT;`
- Nowdoc：`<<<'TEXT' ... TEXT;`

**类型检测**：`is_string($value)`
**长度**：理论上无限制

## 基本用法

### 布尔类型示例

```php
<?php
declare(strict_types=1);

$isActive = true;
$isDeleted = false;

if ($isActive) {
    echo "User is active\n";
}
```

### 整数类型示例

```php
<?php
declare(strict_types=1);

$decimal = 42;
$octal = 052;      // 42
$hex = 0x2A;       // 42
$binary = 0b101010; // 42
```

### 浮点数类型示例

```php
<?php
declare(strict_types=1);

$price = 99.99;
$scientific = 1.23e4;  // 12300
```

### 字符串类型示例

```php
<?php
declare(strict_types=1);

$single = 'Hello';
$double = "World";
$heredoc = <<<TEXT
Multi-line
string
TEXT;
```

## 使用场景

- **布尔类型**：条件判断、标志位
- **整数类型**：计数、索引、ID
- **浮点数类型**：价格、坐标、科学计算
- **字符串类型**：文本处理、数据展示

## 注意事项

- **浮点数精度**：浮点数不能精确表示所有小数
- **字符串编码**：字符串应使用 UTF-8 编码
- **类型转换**：PHP 会自动进行类型转换

## 常见问题

### 问题 1：浮点数精度问题
- **原因**：浮点数精度有限
- **解决**：使用 `bcmath` 扩展进行精确计算

### 问题 2：字符串编码问题
- **原因**：字符串编码不一致
- **解决**：统一使用 UTF-8 编码

## 最佳实践

- 使用类型声明提高代码质量
- 注意浮点数精度问题
- 统一使用 UTF-8 编码
- 理解类型转换规则
