# 2.1.5 常见错误与解决方案

## 概述

在学习 PHP 的过程中，会遇到各种错误。本节介绍常见的语法错误、编码问题、严格类型错误、文件路径错误、命名空间错误等，以及如何快速定位和解决这些问题。

**章节类型**：参考性章节

**主要内容**：
- 语法错误类型和修复方法
- 编码问题的识别和解决
- 严格类型错误的处理
- 文件路径错误的解决
- 命名空间错误的处理
- 错误排查流程

## 定义/语法

### 错误类型

**语法错误**：
- Parse error：语法解析错误
- Fatal error：致命错误
- Warning：警告
- Notice：通知

**常见语法错误**：
- 缺少分号
- 括号不匹配
- 引号不匹配
- 关键字拼写错误

## 示例

### 语法错误示例

```php
<?php
// 错误：缺少分号
$name = "World"
echo "Hello, {$name}!\n";

// 错误：括号不匹配
if ($condition {
    // 代码
}

// 错误：引号不匹配
$text = "Hello, World!;
```

### 编码问题示例

```php
<?php
// 错误：文件编码不是 UTF-8
// 中文字符显示乱码
$name = "世界";
```

### 严格类型错误示例

```php
<?php
declare(strict_types=1);

// 错误：类型不匹配
function add(int $a, int $b): int
{
    return $a + $b;
}

add("1", "2");  // 错误：字符串不能传递给 int 参数
```

## 使用场景

- **开发调试**：快速定位和修复错误
- **代码审查**：识别潜在问题
- **错误预防**：了解常见错误，避免重复犯错

## 注意事项

- **仔细阅读错误信息**：错误信息通常包含行号和错误原因
- **使用语法检查**：`php -l filename.php` 检查语法
- **逐步排查**：从错误信息开始，逐步定位问题
- **记录错误**：记录常见错误和解决方案

## 常见问题

### 问题 1：Parse error: syntax error
- **原因**：语法错误
- **解决**：检查分号、括号、引号是否匹配

### 问题 2：编码问题
- **原因**：文件编码不正确
- **解决**：使用 UTF-8 无 BOM 编码

### 问题 3：严格类型错误
- **原因**：类型不匹配
- **解决**：检查类型声明和实际值

## 最佳实践

- 使用 `php -l` 检查语法
- 使用 IDE 的语法检查
- 仔细阅读错误信息
- 记录常见错误和解决方案
- 建立错误排查流程
