# 2.6.6 运算符优先级与结合性

## 概述

运算符优先级和结合性决定了表达式的求值顺序。本节介绍运算符优先级表、结合性、常见优先级问题、使用括号的最佳实践。

**章节类型**：参考性章节

**主要内容**：
- 运算符优先级表
- 结合性（左结合、右结合）
- 常见优先级问题
- 使用括号的最佳实践
- 优先级记忆技巧

## 核心内容

### 运算符优先级

**高优先级**：算术运算符、比较运算符
**中优先级**：逻辑运算符
**低优先级**：赋值运算符、三元运算符

### 结合性

**左结合**：从左到右求值（大多数运算符）
**右结合**：从右到左求值（赋值运算符、三元运算符）

## 基本用法

### 优先级示例

```php
<?php
declare(strict_types=1);

// 乘法优先级高于加法
$result = 2 + 3 * 4;  // 14，不是 20

// 使用括号明确优先级
$result = (2 + 3) * 4;  // 20
```

### 结合性示例

```php
<?php
declare(strict_types=1);

// 赋值运算符右结合
$a = $b = $c = 10;  // 所有变量都是 10

// 三元运算符右结合
$result = $a ? $b : $c ? $d : $e;  // 从右到左求值
```

## 使用场景

- **表达式求值**：理解表达式的求值顺序
- **代码调试**：定位优先级问题
- **代码优化**：优化表达式结构

## 注意事项

- **优先级表**：记住常用运算符的优先级
- **括号使用**：不确定时使用括号
- **可读性**：优先考虑代码可读性

## 常见问题

### 问题 1：优先级混淆
- **原因**：不理解运算符优先级
- **解决**：使用括号明确优先级

### 问题 2：结合性混淆
- **原因**：不理解运算符结合性
- **解决**：理解左结合和右结合的区别

## 最佳实践

- 不确定时使用括号
- 理解常用运算符的优先级
- 优先考虑代码可读性
- 参考优先级表
