# 2.11.1 模块基础

## 概述

模块化是组织代码的重要方式。本节介绍模块的概念、优势、如何编写独立的文件/模块（函数、类、配置、常量）、文件组织和目录结构、模块设计原则。

**章节类型**：概念性章节

**主要内容**：
- 模块的概念和优势
- 如何编写独立的模块文件
- 模块的类型（函数、类、配置、常量）
- 文件组织和目录结构
- 模块设计原则
- 模块化最佳实践

## 核心内容

### 模块概念

**定义**：模块是独立的代码单元，可以被其他代码导入和使用
**优势**：代码复用、组织清晰、易于维护

### 模块类型

**函数模块**：包含相关函数的文件
**类模块**：包含类的文件
**配置模块**：包含配置常量的文件
**工具模块**：包含工具函数的文件

### 文件组织

**目录结构**：按功能组织文件
**命名规范**：使用有意义的文件名
**单一职责**：每个文件职责单一

## 基本用法

### 函数模块示例

```php
<?php
declare(strict_types=1);

// math.php
function add(int $a, int $b): int
{
    return $a + $b;
}

function multiply(int $a, int $b): int
{
    return $a * $b;
}
```

### 配置模块示例

```php
<?php
declare(strict_types=1);

// config.php
const DB_HOST = "localhost";
const DB_NAME = "mydb";
const DB_USER = "user";
```

## 使用场景

- **代码组织**：将相关代码组织在一起
- **代码复用**：在不同项目中复用模块
- **团队协作**：便于团队协作开发

## 注意事项

- **单一职责**：每个模块职责单一
- **命名规范**：使用有意义的文件名
- **依赖管理**：注意模块间的依赖关系

## 常见问题

### 问题 1：模块职责不清
- **原因**：模块包含过多不相关的功能
- **解决**：遵循单一职责原则

### 问题 2：循环依赖
- **原因**：模块间相互依赖
- **解决**：重构代码，消除循环依赖

## 最佳实践

- 遵循单一职责原则
- 使用有意义的文件名
- 组织清晰的目录结构
- 注意模块间的依赖关系
