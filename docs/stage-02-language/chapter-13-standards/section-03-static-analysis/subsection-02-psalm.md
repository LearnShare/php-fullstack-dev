# 2.13.3.2 Psalm 配置与使用

## 概述

Psalm 是 Vimeo 开发的 PHP 静态分析工具。本节详细介绍 Psalm 的安装、配置、使用、分析级别、规则配置、IDE 集成等。

**章节类型**：工具性章节

**主要内容**：
- Psalm 的安装
- 配置文件（psalm.xml）
- 分析级别的选择
- 规则配置
- IDE 集成
- CI/CD 集成
- 使用技巧和最佳实践

## 特性

- **类型检查**：强大的类型检查能力
- **性能优秀**：分析速度快
- **规则丰富**：提供大量分析规则
- **IDE 支持**：支持主流 IDE

## 基本用法/命令

### 安装

```bash
composer require --dev vimeo/psalm
```

### 初始化配置

```bash
vendor/bin/psalm --init
```

### 运行分析

```bash
vendor/bin/psalm
```

### 指定级别

```bash
vendor/bin/psalm --level=3
```

## 使用场景

- **类型检查**：检查类型相关错误
- **代码质量**：提高代码质量
- **错误检测**：及早发现错误

## 注意事项

- **级别选择**：根据项目选择合适的级别
- **配置优化**：根据项目调整配置
- **性能考虑**：使用缓存提高性能

## 常见问题

### 问题 1：误报过多
- **原因**：分析级别过高
- **解决**：降低级别或添加注释

### 问题 2：配置复杂
- **原因**：不理解配置选项
- **解决**：参考官方文档

## 最佳实践

- 从低级别开始，逐步提高
- 使用缓存提高性能
- 集成到 CI/CD 流程
- 定期运行分析
