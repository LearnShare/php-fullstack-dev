# 5.2.2 输出缓冲与控制

## 概述

输出缓冲允许控制输出的时机和内容。本节介绍 PHP 中输出缓冲的概念和使用方法，包括 ob_start()、ob_get_clean() 等函数，帮助零基础学员掌握输出控制技术。

**章节类型**：语法性章节

**主要内容**：
- 输出缓冲概念
- ob_start() 函数
- ob_get_clean() 函数
- ob_get_contents() 函数
- 嵌套缓冲
- 输出控制应用场景
- 完整示例

## 核心内容

### 输出缓冲概念

- 什么是输出缓冲
- 缓冲的作用
- 缓冲的时机

### ob_start() 函数

- 语法和参数
- 启动输出缓冲
- 回调函数
- 缓冲级别

### ob_get_clean() 函数

- 获取并清空缓冲
- 与 ob_get_contents() 的区别
- 使用场景

### 嵌套缓冲

- 多层缓冲
- 缓冲栈
- 管理方法

## 基本用法

### 输出缓冲示例

```php
<?php
declare(strict_types=1);

// 启动输出缓冲
ob_start();
echo "缓冲内容";
$content = ob_get_clean();

// 处理内容后再输出
echo processContent($content);
```

## 使用场景

- 内容预处理
- 输出压缩
- 错误处理
- 模板渲染

## 注意事项

- 缓冲的生命周期
- 嵌套缓冲的管理
- 性能影响
- 内存使用

## 常见问题

- 输出缓冲的作用？
- ob_get_clean() 和 ob_get_contents() 的区别？
- 如何处理嵌套缓冲？
- 输出缓冲的性能影响？

## 最佳实践

- 合理使用输出缓冲
- 及时清理缓冲
- 注意嵌套缓冲
- 考虑性能影响
