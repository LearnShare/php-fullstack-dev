# 5.16.2 错误分类与自定义错误

## 概述

错误分类有助于统一错误处理。本节介绍错误的分类方法、自定义错误类的设计等，帮助零基础学员建立清晰的错误分类体系。

**章节类型**：概念性章节

**主要内容**：
- 错误分类概述
- HTTP 错误分类
- 业务错误分类
- 自定义错误类
- 错误层次设计
- 错误码定义
- 完整示例

## 核心内容

### 错误分类

- HTTP 状态码分类
- 业务逻辑分类
- 系统错误分类
- 分类原则

### 自定义错误类

- 错误类设计
- 错误类继承
- 错误属性
- 错误消息

### 错误层次

- 基础错误类
- 特定错误类
- 错误继承
- 错误扩展

### 错误码

- 错误码设计
- 错误码规范
- 错误码映射
- 错误码文档

## 基本用法

### 自定义错误类示例

```php
<?php
declare(strict_types=1);

class ValidationException extends Exception {
    public function __construct(
        string $message,
        private array $errors = []
    ) {
        parent::__construct($message, 400);
    }
    
    public function getErrors(): array {
        return $this->errors;
    }
}
```

## 使用场景

- 错误分类管理
- 统一错误处理
- 错误文档
- 错误追踪

## 注意事项

- 错误类设计
- 错误码规范
- 错误继承
- 错误文档

## 常见问题

- 如何分类错误？
- 如何设计错误类？
- 如何定义错误码？
- 如何组织错误层次？

## 最佳实践

- 建立清晰的错误分类
- 设计合理的错误类层次
- 使用标准错误码
- 提供错误文档
