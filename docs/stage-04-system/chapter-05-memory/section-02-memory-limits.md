# 4.5.2 内存限制设置

## 概述

内存限制是 PHP 脚本执行的重要配置。本节介绍如何设置和调整内存限制，包括 php.ini 配置、ini_set() 函数、脚本级限制等，帮助零基础学员掌握内存限制管理。

**章节类型**：配置性章节

**主要内容**：
- 内存限制概述
- php.ini 配置（memory_limit）
- ini_set() 函数设置
- 脚本级限制
- 限制值格式
- 完整示例

## 核心内容

### 内存限制概述

- 什么是内存限制
- 为什么需要限制
- 默认限制值

### php.ini 配置

- memory_limit 配置项
- 全局限制设置
- 配置优先级

### ini_set() 函数

- 运行时设置
- 作用域和生命周期
- 设置限制

### 限制值格式

- 字节数表示
- 单位表示（K、M、G）
- 无限制设置（-1）

## 基本用法

### 设置内存限制示例

```php
<?php
declare(strict_types=1);

// 运行时设置内存限制
ini_set('memory_limit', '256M');

// 获取当前限制
$limit = ini_get('memory_limit');
echo "内存限制: $limit\n";
```

## 使用场景

- 处理大数据的脚本
- 内存密集型操作
- 临时提高限制
- 资源受限环境

## 注意事项

- 限制设置的权限
- 系统内存限制
- 安全考虑
- 性能影响

## 常见问题

- 如何设置内存限制？
- 内存限制的单位是什么？
- 如何设置无限制？
- 限制设置的优先级？

## 最佳实践

- 根据实际需求设置限制
- 避免设置过大的限制
- 使用 ini_set() 临时调整
- 监控内存使用情况
