# 4.6.3 哈希函数

## 概述

哈希函数用于数据完整性验证和快速数据查找。本节介绍 PHP 中哈希函数的使用，包括 hash()、hash_hmac() 函数，以及常见哈希算法的应用，帮助零基础学员掌握哈希函数的用法。

**章节类型**：参考性章节

**主要内容**：
- 哈希函数概述
- hash() 函数
- hash_hmac() 函数
- 常见哈希算法（MD5、SHA-256、SHA-512）
- 数据完整性验证
- 消息认证码（MAC）
- 完整示例

## 核心内容

### 哈希函数概述

- 哈希函数的特点
- 哈希的应用场景
- 哈希与加密的区别

### hash() 函数

- 语法和参数
- 算法选择
- 返回值格式
- 文件哈希

### hash_hmac()

- HMAC 的概念
- 密钥哈希
- 消息认证
- 安全优势

### 常见算法

- MD5：快速但不安全
- SHA-256：安全哈希
- SHA-512：更强安全性
- 算法选择建议

## 基本用法

### 哈希函数示例

```php
<?php
declare(strict_types=1);

// 计算字符串哈希
$hash = hash('sha256', 'data');

// 计算文件哈希
$fileHash = hash_file('sha256', 'file.txt');

// HMAC
$hmac = hash_hmac('sha256', 'data', 'secret-key');
```

## 使用场景

- 数据完整性验证
- 文件校验
- 数字签名
- 快速数据查找

## 注意事项

- MD5 和 SHA-1 的安全性
- 哈希碰撞
- 性能考虑
- 用途区分

## 常见问题

- hash() 和 password_hash() 的区别？
- 什么时候使用 HMAC？
- MD5 是否安全？
- 如何验证文件完整性？

## 最佳实践

- 安全场景使用 SHA-256 或更强算法
- 使用 HMAC 进行消息认证
- 避免使用 MD5 和 SHA-1
- 理解哈希的用途限制
