# 4.2.11 文件权限详解

## 概述

文件权限是文件系统安全的重要方面。本节介绍 PHP 中文件权限的概念、chmod() 函数的使用、umask() 函数的作用，以及如何检查和设置文件权限，帮助零基础学员理解文件权限管理。

**章节类型**：配置性章节

**主要内容**：
- 文件权限概念
- 权限表示方法（数字、符号）
- chmod() 函数
- umask() 函数
- 权限检查函数
- 跨平台权限处理
- 完整示例

## 核心内容

### 文件权限概念

- Unix/Linux 权限系统
- 所有者、组、其他用户
- 读、写、执行权限

### 权限表示方法

- 数字表示（八进制）
- 符号表示（rwx）
- 权限值计算

### chmod() 函数

- 语法和参数
- 权限值设置
- 递归修改权限

### umask() 函数

- umask 的作用
- 默认权限计算
- umask 的设置

## 基本用法

### 权限设置示例

```php
<?php
declare(strict_types=1);

// 设置文件权限（所有者读写，组和其他只读）
chmod('file.txt', 0644);

// 设置目录权限（所有者读写执行，组和其他读执行）
chmod('directory', 0755);
```

## 使用场景

- 文件上传后的权限设置
- 临时文件权限管理
- 配置文件权限保护
- 脚本文件执行权限

## 注意事项

- 权限设置的权限要求
- 跨平台兼容性
- Windows 系统的权限处理
- 安全最佳实践

## 常见问题

- 如何理解权限数字？
- chmod() 和 umask() 的区别？
- Windows 下如何处理权限？
- 如何递归修改目录权限？

## 最佳实践

- 遵循最小权限原则
- 使用合适的默认权限
- 注意跨平台兼容性
- 敏感文件设置严格权限
