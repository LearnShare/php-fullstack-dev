# 4.2.3 文件操作

## 概述

文件操作包括文件的复制、移动、删除、重命名等基本操作。本节介绍 PHP 中这些文件操作函数的使用方法，帮助零基础学员掌握文件管理操作。

**章节类型**：语法性章节

**主要内容**：
- 文件操作函数概述
- copy() 函数（文件复制）
- rename() 函数（移动/重命名）
- unlink() 函数（文件删除）
- file_exists() 函数（文件存在性检查）
- is_file() 和 is_dir() 函数
- 错误处理
- 完整示例

## 核心内容

### 文件复制

- copy() 函数的语法和参数
- 复制操作的返回值
- 目标文件已存在的处理

### 文件移动和重命名

- rename() 函数的用法
- 移动和重命名的区别
- 跨目录移动

### 文件删除

- unlink() 函数的用法
- 删除操作的权限要求
- 删除前的安全检查

### 文件存在性检查

- file_exists() 函数
- is_file() 和 is_dir() 函数
- 检查文件可读性、可写性

## 基本用法

### 文件复制示例

```php
<?php
declare(strict_types=1);

// 复制文件
copy('source.txt', 'destination.txt');
```

### 文件移动示例

```php
<?php
declare(strict_types=1);

// 移动文件
rename('old.txt', 'new.txt');
```

### 文件删除示例

```php
<?php
declare(strict_types=1);

// 删除文件
if (file_exists('file.txt')) {
    unlink('file.txt');
}
```

## 使用场景

- 文件备份操作
- 文件上传后的处理
- 临时文件清理
- 文件管理系统

## 注意事项

- 检查文件是否存在再操作
- 注意操作权限
- 跨文件系统移动可能失败
- 删除操作不可恢复

## 常见问题

- copy() 和 rename() 的区别？
- 如何安全地删除文件？
- 文件移动失败的原因？
- 如何检查文件是否可写？

## 最佳实践

- 操作前检查文件存在性
- 使用异常处理错误情况
- 重要文件删除前备份
- 检查操作权限
