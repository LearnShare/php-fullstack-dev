# 8.7.2 Stub 与 Fakes

## 概述

Stub 和 Fakes 是测试替身的重要类型。本节介绍 Stub 和 Fakes 的概念、区别、使用场景，帮助零基础学员理解如何在测试中使用 Stub 和 Fakes。

**章节类型**：实践性章节

**主要内容**：
- Stub 概述
- Fakes 概述
- Stub 与 Fakes 的区别
- 使用场景
- 最佳实践
- 完整示例

## 核心内容

### Stub 概述

- Stub 的作用
- Stub 特点
- Stub 使用

### Fakes 概述

- Fakes 的作用
- Fakes 特点
- Fakes 使用

### Stub 与 Fakes 的区别

- 功能区别
- 使用场景区别
- 实现方式区别

### 使用场景

- Stub 使用场景
- Fakes 使用场景
- 选择原则

## 基本用法

### Stub 示例

```php
// Stub 示例
```

### Fakes 示例

```php
// Fakes 示例
```

## 完整示例

### 示例：Stub 和 Fakes 实践

```php
// 完整示例代码
```

## 注意事项

- 理解 Stub 和 Fakes 的区别
- 根据场景选择合适的替身
- 保持测试简单
- 避免过度使用

## 常见问题

### Q: Stub 和 Fakes 有什么区别？

A: Stub 只提供返回值，不验证调用；Fakes 是简化实现，可以验证行为。

### Q: 什么时候使用 Fakes？

A: 当需要简化实现但又要验证行为时使用 Fakes，如内存数据库、文件系统等。

## 最佳实践

- 理解 Stub 和 Fakes 的区别
- 根据场景选择合适的替身
- 保持测试简单
- 避免过度使用

## 对比分析

### Stub vs Fakes vs Mock

- 功能对比
- 使用场景对比

## 实践任务

1. 使用 Stub 编写测试
2. 使用 Fakes 编写测试
3. 选择合适的测试替身
