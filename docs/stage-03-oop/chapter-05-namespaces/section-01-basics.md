# 3.5.1 命名空间基础

## 概述

命名空间用于解决类名冲突和组织代码结构。本节介绍为什么需要命名空间、命名空间语法、子命名空间、全局命名空间、命名空间解析规则等内容。

**章节类型**：语法性章节

**主要内容**：
- 为什么需要命名空间
- 命名空间的语法
- 子命名空间的定义
- 全局命名空间（`\`）
- 命名空间解析规则
- 命名空间与目录结构的关系
- 命名空间最佳实践

## 特性

- **避免冲突**：解决类名冲突问题
- **代码组织**：按功能组织代码
- **模块化**：支持模块化开发

## 语法/定义

### 命名空间定义

**语法**：`namespace NamespaceName;`
**位置**：文件的第一行（`<?php` 之后）
**规则**：一个文件只能有一个命名空间

### 子命名空间

**语法**：`namespace App\Controller;`
**特点**：使用反斜杠分隔

### 全局命名空间

**语法**：`\ClassName`
**作用**：访问全局命名空间的类

## 基本用法

### 基础示例

```php
<?php
declare(strict_types=1);

namespace App\Model;

class User
{
    // ...
}
```

### 子命名空间示例

```php
<?php
declare(strict_types=1);

namespace App\Controller\Admin;

class UserController
{
    // ...
}
```

### 全局命名空间示例

```php
<?php
declare(strict_types=1);

namespace App;

$user = new \App\Model\User();  // 使用完全限定名
```

## 使用场景

- **大型项目**：组织大型项目代码
- **第三方库**：避免类名冲突
- **模块化**：支持模块化开发

## 注意事项

- **文件位置**：命名空间声明必须在文件第一行
- **目录结构**：建议命名空间与目录结构对应
- **完全限定名**：使用完全限定名避免歧义

## 常见问题

### 问题 1：命名空间声明位置
- **要求**：必须在文件第一行
- **解决**：确保命名空间声明位置正确

### 问题 2：类名冲突
- **原因**：不同命名空间的同名类
- **解决**：使用完全限定名或 use 语句

## 最佳实践

- 使用命名空间组织代码
- 命名空间与目录结构对应
- 使用有意义的命名空间名称
- 遵循 PSR-4 标准
