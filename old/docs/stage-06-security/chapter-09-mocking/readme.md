# 6.9 Mock、Stub、Fakes 深度讲解

## 目标

- 深入理解 Mock、Stub、Fake 的区别和使用场景。
- 掌握 Mockery 的高级用法。
- 熟悉 Pest Fakes 的使用。
- 能够编写可测试的代码。

## 章节内容

本章分为三个独立小节，每节提供详细的概念解释、代码示例和最佳实践：

1. **[Mock 基础](section-01-mock-basics.md)**：Mock vs Stub vs Fake、Mockery 使用、Mock 验证、完整示例。

2. **[Stub 与 Fakes](section-02-stub-fakes.md)**：Stub 使用、Fake 实现、测试替身选择、完整示例。

3. **[测试替身实践](section-03-test-doubles.md)**：可测试代码设计、依赖注入、接口抽象、完整示例。

## 核心概念

- **Mock**：验证交互的测试替身
- **Stub**：返回预设值的测试替身
- **Fake**：简化实现的测试替身
- **测试替身**：替代真实依赖的对象

## 学习建议

1. **重点掌握**：
   - Mock、Stub、Fake 的区别
   - Mockery 使用
   - 可测试代码设计

2. **实践练习**：
   - 完成每小节后的练习题目
   - 编写测试替身
   - 重构代码提升可测试性

## 完成本章后

- 能够正确使用测试替身。
- 理解测试替身的区别，能够选择合适的类型。
- 掌握可测试代码设计，能够编写易测试的代码。
- 具备构建完整测试体系的能力。

## 相关章节

- **6.8 测试体系建设**：测试基础
- **7.1 IoC 与 DI**：依赖注入
